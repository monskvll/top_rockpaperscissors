<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <link rel="shortcut icon" href="#"> <!-- line added to avoid faveicon.ico error -->
</head>
<body>
    <script>
        
        /* function computerPlay returns a random outcome from the outcomes array as the computer's choice*/
        function computerPlay() {
        
            let outcomes = ["rock", "paper", "scissors"];

            let randomOutcome = Math.floor(Math.random() * outcomes.length);

            return outcomes[randomOutcome];
        }    
        
        /* playerScore and computerScore variables present in playRound function to add score according to the victor and present it in the end of round 5 */
        let playerScore = 0;
        let computerScore = 0;

        /* Function containing conditionals with the possible results for the player's selection versus the computer's (including draw) and input which isn't valid (anything not part of the outcomes array) */
        function playRound(playerSelection, computerSelection) {

            if ((playerSelection === computerSelection)) {
                return("Draw! You both played the same hand.")
            }

            if ((playerSelection === "rock" && computerSelection === "scissors") || (playerSelection === "scissors" && computerSelection === "paper") || (playerSelection === "paper" && computerSelection === "rock")) {
                playerScore++;
                return("You win: " + playerSelection + " beats " + computerSelection + ".")
            }

            else {
                computerScore++;
                return("You lose: " + computerSelection + " beats " + playerSelection + ".")
            }
        }        

        function game() {           

            /* for loop to make the game have 5 rounds */
            for (i = 0; i < 5; i++ ) {                

                let computerSelection = computerPlay();

                /* Prompt for player's choice (with added .toLowerCase() in order to make the input case insensitive */
                let playerSelection = prompt("Rock, paper or scissors?").toLowerCase();
                
                /* Conditional for cases in which string inserted in the prompt is different from "rock", "paper" or "scissors". It also doesn't add a round in the for loop. */
                if ((playerSelection != "rock") && (playerSelection != "paper") && (playerSelection != "scissors")) {
                    console.log("## That's not a valid option! ##");
                    i--;
                    continue;                    
                }
                
                /* Results presentation (with i + 1 in order for round number not to start on 0) */
                console.log("----------ROUND " + ( i + 1 ) + " ----------");
                console.log("The computer played " + computerSelection + ".");
                console.log("You played " + playerSelection + ".");
                console.log(playRound(playerSelection, computerSelection));
                console.log("Player: " + playerScore);
                console.log("Computer: " + computerScore);
            }
            
            /* Conditional to compare playerScore with computerScore and print the player's victory/loss/draw statement */
            if (i = 5 && playerScore > computerScore ) {
                console.log("### You win the game! ###")

            } else if (i = 5 && playerScore < computerScore ) {
                console.log("### You lose the game! ###")

            } else {
                console.log("### It's a draw! ###")
            }
        }

        /* IT'S TIME TO PLAY THE */
        game();

    </script>
</body>
</html>